[{"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/AuthWrapper.jsx":"1","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/AvatarImage.jsx":"2","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/BaseLayout.jsx":"3","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/CheckoutForm.jsx":"4","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/CheckoutForm.test.js":"5","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/ContextMenu.jsx":"6","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/DarkModeToggle.js":"7","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/DarkModeToggle.test.js":"8","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Dashboard/DashboardComponents.test.js":"9","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Footer.jsx":"10","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/ImageUpload.jsx":"11","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Landing/PopularServices.jsx":"12","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Landing/Services.jsx":"13","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Logo.jsx":"14","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Messages/ChatWindow.jsx":"15","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Messages/ConversationList.jsx":"16","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Messages/ConversationList.test.jsx":"17","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Messages/MessageInput.jsx":"18","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Messages/MessageList.jsx":"19","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Navbar.jsx":"20","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Navbar.test.js":"21","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/OrdersDisplay.jsx":"22","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Profile.jsx":"23","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Search/SearchGridItem.jsx":"24","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Services/AddReview.jsx":"25","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Services/Details.jsx":"26","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Services/Details.test.js":"27","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Services/MultiStepServiceForm.jsx":"28","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Services/MultiStepServiceForm.test.js":"29","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Services/Pricing.jsx":"30","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Services/Pricing.test.js":"31","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Services/Reviews.jsx":"32","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Services/ServiceForm.jsx":"33","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Services/ServiceForm.test.js":"34","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/StarRating.jsx":"35","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/UserAvatar.jsx":"36","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/common/Button.jsx":"37","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/common/Button.test.js":"38","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/common/Input.jsx":"39","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/common/Modal.jsx":"40","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/context/StateContext.jsx":"41","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/context/StateReducers.js":"42","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/context/constants.js":"43","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/hooks/useNavigation.js":"44","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/_app.jsx":"45","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/_document.jsx":"46","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/buyer/index.jsx":"47","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/buyer/orders/index.jsx":"48","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/buyer/orders/messages/[orderId].jsx":"49","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/checkout.jsx":"50","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/index.jsx":"51","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/logout.jsx":"52","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/messages/[chatId].jsx":"53","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/messages/index.jsx":"54","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/privacy-policy.jsx":"55","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/profile.jsx":"56","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/search.jsx":"57","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/seller/index.jsx":"58","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/seller/orders/index.jsx":"59","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/seller/orders/messages/[orderId].jsx":"60","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/seller/services/[serviceId].jsx":"61","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/seller/services/create.jsx":"62","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/seller/services/index.jsx":"63","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/seller/stripe-onboarding.jsx":"64","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/seller/stripe-return.jsx":"65","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/service/[serviceId].jsx":"66","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/success.jsx":"67","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/terms-of-service.jsx":"68","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/tests/api.test.js":"69","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/tests/create.test.jsx":"70","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/tests/profile.test.js":"71","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/tests/search.test.js":"72","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/tests/stripe-onboarding.test.js":"73","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/utils/api.js":"74","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/utils/categories.js":"75","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/utils/chatApi.js":"76","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/utils/chatApi.test.js":"77","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/utils/constants.js":"78","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/utils/envConfig.js":"79","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/utils/firebaseConfig.js":"80","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/utils/publicHolidays.js":"81","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/utils/serviceFieldDefinitions.js":"82","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/utils/validators.js":"83","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/utils/validators.test.js":"84"},{"size":6866,"mtime":1762494567165,"results":"85","hashOfConfig":"86"},{"size":3022,"mtime":1762494567165,"results":"87","hashOfConfig":"86"},{"size":383,"mtime":1762494567165,"results":"88","hashOfConfig":"86"},{"size":10573,"mtime":1762494567165,"results":"89","hashOfConfig":"86"},{"size":11911,"mtime":1762494567165,"results":"90","hashOfConfig":"86"},{"size":860,"mtime":1762494567165,"results":"91","hashOfConfig":"86"},{"size":1598,"mtime":1762494567165,"results":"92","hashOfConfig":"86"},{"size":7806,"mtime":1762494567165,"results":"93","hashOfConfig":"86"},{"size":5641,"mtime":1762494567165,"results":"94","hashOfConfig":"86"},{"size":3293,"mtime":1762494567165,"results":"95","hashOfConfig":"86"},{"size":15751,"mtime":1762494567166,"results":"96","hashOfConfig":"86"},{"size":5939,"mtime":1762494567166,"results":"97","hashOfConfig":"86"},{"size":2534,"mtime":1762494567166,"results":"98","hashOfConfig":"86"},{"size":2086,"mtime":1762494567166,"results":"99","hashOfConfig":"86"},{"size":12539,"mtime":1762494567166,"results":"100","hashOfConfig":"86"},{"size":5312,"mtime":1762494567166,"results":"101","hashOfConfig":"86"},{"size":5396,"mtime":1762494567166,"results":"102","hashOfConfig":"86"},{"size":5821,"mtime":1762494567166,"results":"103","hashOfConfig":"86"},{"size":2776,"mtime":1762494567166,"results":"104","hashOfConfig":"86"},{"size":11653,"mtime":1762494567166,"results":"105","hashOfConfig":"86"},{"size":10611,"mtime":1762494567166,"results":"106","hashOfConfig":"86"},{"size":17550,"mtime":1762494567166,"results":"107","hashOfConfig":"86"},{"size":105,"mtime":1762494567166,"results":"108","hashOfConfig":"86"},{"size":3032,"mtime":1762494567166,"results":"109","hashOfConfig":"86"},{"size":4763,"mtime":1762494567166,"results":"110","hashOfConfig":"86"},{"size":7062,"mtime":1762494567166,"results":"111","hashOfConfig":"86"},{"size":12614,"mtime":1762494567166,"results":"112","hashOfConfig":"86"},{"size":64179,"mtime":1762494567166,"results":"113","hashOfConfig":"86"},{"size":23566,"mtime":1762494567166,"results":"114","hashOfConfig":"86"},{"size":5271,"mtime":1762494567167,"results":"115","hashOfConfig":"86"},{"size":10070,"mtime":1762494567167,"results":"116","hashOfConfig":"86"},{"size":3586,"mtime":1762494567167,"results":"117","hashOfConfig":"86"},{"size":21455,"mtime":1762494567167,"results":"118","hashOfConfig":"86"},{"size":20887,"mtime":1762494567167,"results":"119","hashOfConfig":"86"},{"size":636,"mtime":1762494567167,"results":"120","hashOfConfig":"86"},{"size":885,"mtime":1762494567167,"results":"121","hashOfConfig":"86"},{"size":1751,"mtime":1762494567167,"results":"122","hashOfConfig":"86"},{"size":4833,"mtime":1762494567167,"results":"123","hashOfConfig":"86"},{"size":6335,"mtime":1762494567167,"results":"124","hashOfConfig":"86"},{"size":46,"mtime":1762494567167,"results":"125","hashOfConfig":"86"},{"size":360,"mtime":1762494567167,"results":"126","hashOfConfig":"86"},{"size":1619,"mtime":1762494567167,"results":"127","hashOfConfig":"86"},{"size":425,"mtime":1762494567167,"results":"128","hashOfConfig":"86"},{"size":2180,"mtime":1762494567167,"results":"129","hashOfConfig":"86"},{"size":7651,"mtime":1762494567167,"results":"130","hashOfConfig":"86"},{"size":324,"mtime":1762494567167,"results":"131","hashOfConfig":"86"},{"size":5351,"mtime":1762494567167,"results":"132","hashOfConfig":"86"},{"size":9936,"mtime":1762494567167,"results":"133","hashOfConfig":"86"},{"size":1974,"mtime":1762494567167,"results":"134","hashOfConfig":"86"},{"size":5042,"mtime":1762494567167,"results":"135","hashOfConfig":"86"},{"size":919,"mtime":1762494567168,"results":"136","hashOfConfig":"86"},{"size":975,"mtime":1762494567168,"results":"137","hashOfConfig":"86"},{"size":1430,"mtime":1762494567168,"results":"138","hashOfConfig":"86"},{"size":463,"mtime":1762494567168,"results":"139","hashOfConfig":"86"},{"size":7440,"mtime":1762494567168,"results":"140","hashOfConfig":"86"},{"size":12450,"mtime":1762494567168,"results":"141","hashOfConfig":"86"},{"size":4039,"mtime":1762494567168,"results":"142","hashOfConfig":"86"},{"size":8232,"mtime":1762494567168,"results":"143","hashOfConfig":"86"},{"size":9378,"mtime":1762494567168,"results":"144","hashOfConfig":"86"},{"size":1974,"mtime":1762494567168,"results":"145","hashOfConfig":"86"},{"size":7170,"mtime":1762494567168,"results":"146","hashOfConfig":"86"},{"size":8657,"mtime":1762494567168,"results":"147","hashOfConfig":"86"},{"size":10579,"mtime":1762494567168,"results":"148","hashOfConfig":"86"},{"size":4775,"mtime":1762494567168,"results":"149","hashOfConfig":"86"},{"size":5492,"mtime":1762494567168,"results":"150","hashOfConfig":"86"},{"size":5185,"mtime":1762494567168,"results":"151","hashOfConfig":"86"},{"size":1444,"mtime":1762494567168,"results":"152","hashOfConfig":"86"},{"size":9898,"mtime":1762494567168,"results":"153","hashOfConfig":"86"},{"size":10575,"mtime":1762494567168,"results":"154","hashOfConfig":"86"},{"size":18531,"mtime":1762494567168,"results":"155","hashOfConfig":"86"},{"size":15706,"mtime":1762494567169,"results":"156","hashOfConfig":"86"},{"size":841,"mtime":1762494567169,"results":"157","hashOfConfig":"86"},{"size":7682,"mtime":1762494567169,"results":"158","hashOfConfig":"86"},{"size":23262,"mtime":1762494567169,"results":"159","hashOfConfig":"86"},{"size":1831,"mtime":1762494567169,"results":"160","hashOfConfig":"86"},{"size":8175,"mtime":1762494567169,"results":"161","hashOfConfig":"86"},{"size":19365,"mtime":1762494567169,"results":"162","hashOfConfig":"86"},{"size":1837,"mtime":1762494567169,"results":"163","hashOfConfig":"86"},{"size":2119,"mtime":1762494567169,"results":"164","hashOfConfig":"86"},{"size":967,"mtime":1762494567169,"results":"165","hashOfConfig":"86"},{"size":5048,"mtime":1762494567169,"results":"166","hashOfConfig":"86"},{"size":14606,"mtime":1762494567169,"results":"167","hashOfConfig":"86"},{"size":5808,"mtime":1762494567169,"results":"168","hashOfConfig":"86"},{"size":14606,"mtime":1762494567169,"results":"169","hashOfConfig":"86"},{"filePath":"170","messages":"171","suppressedMessages":"172","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"fxalpd",{"filePath":"173","messages":"174","suppressedMessages":"175","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"176","messages":"177","suppressedMessages":"178","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"179","messages":"180","suppressedMessages":"181","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"182","messages":"183","suppressedMessages":"184","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"185","messages":"186","suppressedMessages":"187","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"188","messages":"189","suppressedMessages":"190","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"191","messages":"192","suppressedMessages":"193","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"194","messages":"195","suppressedMessages":"196","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"197","messages":"198","suppressedMessages":"199","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"200","messages":"201","suppressedMessages":"202","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"203"},{"filePath":"204","messages":"205","suppressedMessages":"206","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"207","messages":"208","suppressedMessages":"209","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"210","messages":"211","suppressedMessages":"212","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"213","messages":"214","suppressedMessages":"215","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"216","messages":"217","suppressedMessages":"218","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"219","messages":"220","suppressedMessages":"221","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"222","messages":"223","suppressedMessages":"224","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"225","messages":"226","suppressedMessages":"227","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"228","messages":"229","suppressedMessages":"230","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"231","messages":"232","suppressedMessages":"233","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"234","messages":"235","suppressedMessages":"236","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"237","messages":"238","suppressedMessages":"239","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"240","messages":"241","suppressedMessages":"242","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"243","messages":"244","suppressedMessages":"245","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"246","messages":"247","suppressedMessages":"248","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"249","messages":"250","suppressedMessages":"251","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"252","messages":"253","suppressedMessages":"254","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"255","messages":"256","suppressedMessages":"257","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"258","messages":"259","suppressedMessages":"260","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"261","messages":"262","suppressedMessages":"263","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"264","messages":"265","suppressedMessages":"266","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"267","messages":"268","suppressedMessages":"269","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"270","messages":"271","suppressedMessages":"272","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"273","messages":"274","suppressedMessages":"275","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"276","messages":"277","suppressedMessages":"278","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"279","messages":"280","suppressedMessages":"281","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"282","messages":"283","suppressedMessages":"284","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"285","messages":"286","suppressedMessages":"287","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"288","messages":"289","suppressedMessages":"290","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"291","messages":"292","suppressedMessages":"293","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"294","messages":"295","suppressedMessages":"296","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"297","messages":"298","suppressedMessages":"299","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"300","messages":"301","suppressedMessages":"302","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"303","messages":"304","suppressedMessages":"305","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"306","messages":"307","suppressedMessages":"308","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"309","messages":"310","suppressedMessages":"311","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"312","messages":"313","suppressedMessages":"314","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"315","messages":"316","suppressedMessages":"317","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"318","messages":"319","suppressedMessages":"320","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"321","messages":"322","suppressedMessages":"323","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"324","messages":"325","suppressedMessages":"326","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"327","messages":"328","suppressedMessages":"329","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"330","messages":"331","suppressedMessages":"332","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"333","messages":"334","suppressedMessages":"335","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"336","messages":"337","suppressedMessages":"338","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"339"},{"filePath":"340","messages":"341","suppressedMessages":"342","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"343"},{"filePath":"344","messages":"345","suppressedMessages":"346","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"347","messages":"348","suppressedMessages":"349","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"350","messages":"351","suppressedMessages":"352","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"353","messages":"354","suppressedMessages":"355","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"356","messages":"357","suppressedMessages":"358","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"359","messages":"360","suppressedMessages":"361","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"362","messages":"363","suppressedMessages":"364","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"365","messages":"366","suppressedMessages":"367","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"368","messages":"369","suppressedMessages":"370","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"371","messages":"372","suppressedMessages":"373","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"374","messages":"375","suppressedMessages":"376","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"377","messages":"378","suppressedMessages":"379","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"380","messages":"381","suppressedMessages":"382","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"383","messages":"384","suppressedMessages":"385","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"386"},{"filePath":"387","messages":"388","suppressedMessages":"389","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"390","messages":"391","suppressedMessages":"392","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"393","messages":"394","suppressedMessages":"395","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"396","messages":"397","suppressedMessages":"398","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"399","messages":"400","suppressedMessages":"401","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"402","messages":"403","suppressedMessages":"404","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"405","messages":"406","suppressedMessages":"407","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"408","messages":"409","suppressedMessages":"410","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"411","messages":"412","suppressedMessages":"413","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"414","messages":"415","suppressedMessages":"416","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"417","messages":"418","suppressedMessages":"419","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"420","messages":"421","suppressedMessages":"422","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"423","messages":"424","suppressedMessages":"425","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/AuthWrapper.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/AvatarImage.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/BaseLayout.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/CheckoutForm.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/CheckoutForm.test.js",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/ContextMenu.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/DarkModeToggle.js",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/DarkModeToggle.test.js",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Dashboard/DashboardComponents.test.js",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Footer.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/ImageUpload.jsx",["426"],[],"// @ts-nocheck\nimport Image from \"next/image\";\nimport React, { useState, useCallback } from \"react\";\nimport { toast } from \"react-toastify\";\nimport ReactCrop, { centerCrop, makeAspectCrop } from 'react-image-crop';\nimport 'react-image-crop/dist/ReactCrop.css';\n\nfunction ImageUpload({\n  files, // New files (File objects)\n  setFile, // Function to update new files state in parent\n  existingImages = [], // Array of URLs for existing images\n  setExistingImages, // Function to update existing images state in parent (by removing a URL)\n  maxFiles = 5,\n  maxSizeMB = 2,\n  // isEditMode = false // This prop can be used for conditional UI if needed later\n}) {\n  const [crop, setCrop] = useState();\n  const [imgSrc, setImgSrc] = useState('');\n  const [currentFileForCrop, setCurrentFileForCrop] = useState(null);\n  const [showCropper, setShowCropper] = useState(false);\n\n  const currentTotalImages = (existingImages?.length || 0) + (files?.length || 0);\n\n  const handleFile = (e) => {\n    const selectedFilesInput = Array.from(e.target.files);\n    const validImageTypes = [\"image/gif\", \"image/jpeg\", \"image/png\"];\n\n    if (selectedFilesInput.length === 0) {\n      return;\n    }\n\n    // If already cropping, prevent adding more files until current crop is handled\n    if (showCropper) {\n      toast.info(\"Please confirm or cancel the current crop before adding more images.\");\n      e.target.value = null; // Reset file input\n      return;\n    }\n\n    // If max total images already met (considering files passed from parent and existing ones)\n    if (currentTotalImages >= maxFiles) {\n      toast.error(`You can upload a maximum of ${maxFiles} images.`);\n      e.target.value = null;\n      return;\n    }\n\n    // Handle single file for cropping\n    if (selectedFilesInput.length === 1) {\n      const file = selectedFilesInput[0];\n\n      if (!validImageTypes.includes(file.type)) {\n        toast.error(`${file.name} is not a supported image type.`);\n        e.target.value = null;\n        return;\n      }\n      const sizeInMB = file.size / (1024 * 1024);\n      if (sizeInMB > maxSizeMB) {\n        toast.error(`${file.name} exceeds ${maxSizeMB}MB limit.`);\n        e.target.value = null;\n        return;\n      }\n\n      // Check if adding this one file would exceed total max\n      if (currentTotalImages + 1 > maxFiles) {\n        toast.error(`Adding this image would exceed the maximum of ${maxFiles} images.`);\n        e.target.value = null;\n        return;\n      }\n\n      setCurrentFileForCrop(file);\n      const reader = new FileReader();\n      reader.addEventListener('load', () => {\n        setImgSrc(reader.result?.toString() || '');\n        setShowCropper(true);\n        setCrop(undefined); // Reset crop for new image\n      });\n      reader.readAsDataURL(file);\n      // Don't reset e.target.value here, it will be reset after crop handling\n      return; // Return early to show cropper\n    }\n\n    // Handle multiple files (no cropping, direct add)\n    const filteredFiles = [];\n    let newFilesCount = files?.length || 0; // Current count of files already staged by parent\n\n    for (let file of selectedFilesInput) {\n      if ((existingImages?.length || 0) + newFilesCount >= maxFiles) {\n        toast.warn(`Cannot add ${file.name}. Maximum of ${maxFiles} images reached.`);\n        break;\n      }\n      if (!validImageTypes.includes(file.type)) {\n        toast.error(`${file.name} is not a supported image type.`);\n        continue;\n      }\n      const sizeInMB = file.size / (1024 * 1024);\n      if (sizeInMB > maxSizeMB) {\n        toast.error(`${file.name} exceeds ${maxSizeMB}MB limit.`);\n        continue;\n      }\n      filteredFiles.push(file);\n      newFilesCount++;\n    }\n\n    if (filteredFiles.length > 0) {\n      const totalAfterAddingNew = (existingImages?.length || 0) + (files?.length || 0) + filteredFiles.length;\n      if (totalAfterAddingNew > maxFiles) {\n           const canAddCount = maxFiles - ((existingImages?.length || 0) + (files?.length || 0));\n           toast.warn(`You can only add ${canAddCount} more image(s). Some files were not added.`);\n           setFile([...(files || []), ...filteredFiles.slice(0, canAddCount)]);\n      } else {\n          setFile([...(files || []), ...filteredFiles]);\n      }\n    }\n    e.target.value = null; // Reset file input for multiple files or if no single file was set for crop\n  };\n\n  const removeNewImage = (fileName) => {\n    setFile(files.filter((file) => file.name !== fileName));\n  };\n\n  const removeExistingImage = (imageUrl) => {\n    if (typeof setExistingImages === 'function') {\n      setExistingImages(imageUrl);\n    }\n  };\n\n  const onImageLoad = useCallback((e) => {\n    const { width, height } = e.currentTarget;\n    if (width === 0 || height === 0) return; // Prevent error with empty image\n    const newCrop = centerCrop(\n      makeAspectCrop(\n        {\n          unit: '%',\n          width: 90, // Default crop width percentage\n        },\n        1, // Aspect ratio 1:1\n        width,\n        height\n      ),\n      width,\n      height\n    );\n    setCrop(newCrop);\n  }, []);\n\n  const handleCropConfirm = async () => {\n    if (crop && currentFileForCrop && imgSrc && crop.width && crop.height) {\n      try {\n        const croppedImageBlob = await getCroppedImg(imgSrc, crop, currentFileForCrop.name);\n        const croppedFile = new File([croppedImageBlob], currentFileForCrop.name, {\n          type: croppedImageBlob.type,\n          lastModified: Date.now(),\n        });\n\n        // Add the new cropped file to the parent's state\n        setFile([...(files || []), croppedFile]);\n\n        // Reset cropper states\n        setShowCropper(false);\n        setImgSrc('');\n        setCurrentFileForCrop(null);\n        setCrop(undefined);\n        toast.success(`\"${croppedFile.name}\" cropped and added.`);\n      } catch (e) {\n        console.error(\"Cropping error:\", e);\n        toast.error(\"Error cropping image. Please try again.\");\n        // Optionally, reset cropper on error too\n        setShowCropper(false);\n        setImgSrc('');\n        setCurrentFileForCrop(null);\n        setCrop(undefined);\n      }\n    } else {\n      toast.warn(\"Crop selection is not valid.\");\n    }\n    // Reset file input to allow selecting the same file again\n    const fileInput = document.querySelector('input[type=\"file\"][name=\"files[]\"]');\n    if (fileInput) fileInput.value = null;\n  };\n\n  const handleCropCancel = () => {\n    setShowCropper(false);\n    setImgSrc('');\n    setCurrentFileForCrop(null);\n    setCrop(undefined);\n    toast.info(\"Image cropping cancelled.\");\n    // Reset file input\n    const fileInput = document.querySelector('input[type=\"file\"][name=\"files[]\"]');\n    if (fileInput) fileInput.value = null;\n  };\n\n  // Utility function to get cropped image (must be defined within component or imported)\n  async function getCroppedImg(imageSrc, pixelCrop, fileName) {\n    return new Promise((resolve, reject) => {\n      const image = document.createElement('img'); // Use document.createElement\n      image.src = imageSrc;\n      image.onload = () => {\n        const canvas = document.createElement('canvas');\n\n        // Ensure the image has loaded and has dimensions\n        if (image.naturalWidth === 0 || image.naturalHeight === 0 || !image.width || !image.height) {\n          return reject(new Error('Image has no dimensions or has not loaded properly.'));\n        }\n\n        // Handle potential issues if pixelCrop dimensions are not set (though ReactCrop usually does)\n        if (!pixelCrop || typeof pixelCrop.width !== 'number' || typeof pixelCrop.height !== 'number' || typeof pixelCrop.x !== 'number' || typeof pixelCrop.y !== 'number') {\n          return reject(new Error('Invalid crop dimensions.'));\n        }\n\n        // Scale crop coordinates to natural image size\n        const scaleX = image.naturalWidth / image.width;\n        const scaleY = image.naturalHeight / image.height;\n\n        canvas.width = Math.floor(pixelCrop.width * scaleX);\n        canvas.height = Math.floor(pixelCrop.height * scaleY);\n\n        const ctx = canvas.getContext('2d');\n        if (!ctx) {\n          return reject(new Error('Failed to get 2D context from canvas.'));\n        }\n\n        ctx.drawImage(\n          image,\n          pixelCrop.x * scaleX,\n          pixelCrop.y * scaleY,\n          pixelCrop.width * scaleX,\n          pixelCrop.height * scaleY,\n          0,\n          0,\n          canvas.width,\n          canvas.height\n        );\n\n        canvas.toBlob(blob => {\n          if (!blob) {\n            return reject(new Error('Canvas to Blob conversion failed.'));\n          }\n          // The 'name' property is not standard on Blob. File object is created later.\n          resolve(blob);\n        }, 'image/jpeg', 0.9); // Adjust type and quality as needed\n      };\n      image.onerror = (error) => {\n        console.error(\"Image load error for cropping:\", error);\n        reject(new Error('Image failed to load for cropping.'));\n      };\n    });\n  }\n\n  return (\n    <div>\n      {showCropper && imgSrc && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-75 flex flex-col items-center justify-center z-50 p-4\">\n          <div className=\"bg-white dark:bg-slate-800 p-6 rounded-lg shadow-xl max-w-xl w-full\">\n            <p className=\"text-xl font-semibold text-center mb-4 text-gray-800 dark:text-gray-200\">Crop Image</p>\n            <div style={{ width: '100%', maxHeight: '60vh', overflow: 'auto', display: 'flex', justifyContent: 'center', alignItems: 'center' }}>\n              <ReactCrop\n                crop={crop}\n                onChange={(_, percentCrop) => setCrop(percentCrop)}\n                onComplete={(c) => setCrop(c)}\n                aspect={1}\n                minWidth={100} // Min crop size in px\n                minHeight={100}\n              >\n                <img\n                  src={imgSrc}\n                  onLoad={onImageLoad}\n                  alt=\"Crop preview\"\n                  style={{ display: 'block', maxHeight: '55vh', maxWidth: '100%', objectFit: 'contain' }}\n                />\n              </ReactCrop>\n            </div>\n            <div className=\"flex justify-center gap-4 mt-6\">\n              <button\n                type=\"button\"\n                onClick={handleCropConfirm}\n                className=\"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm font-medium\"\n              >\n                Confirm Crop\n              </button>\n              <button\n                type=\"button\"\n                onClick={handleCropCancel}\n                className=\"px-6 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors text-sm font-medium dark:bg-gray-600 dark:text-gray-200 dark:hover:bg-gray-500\"\n              >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div className={`flex items-center px-3 ${showCropper ? 'hidden' : ''}`}> {/* Hide uploader when cropper is active */}\n        <div className=\"rounded-lg bg-gray-50 dark:bg-slate-800 w-full\">\n          <div className=\"m-4\">\n            <div className=\"flex items-center justify-center w-full\">\n              <label className={`flex cursor-pointer flex-col w-full h-32 border-2 rounded-md border-dashed border-gray-300 dark:border-gray-600 ${currentTotalImages >= maxFiles ? 'opacity-50 cursor-not-allowed' : 'hover:bg-gray-100 dark:hover:bg-gray-700 hover:border-gray-400 dark:hover:border-gray-500'}`}>\n                <div className=\"flex flex-col items-center justify-center pt-7\">\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"w-12 h-12 text-gray-400 dark:text-neutral-light group-hover:text-gray-500 dark:group-hover:text-gray-300\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                    <path fillRule=\"evenodd\" d=\"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z\" clipRule=\"evenodd\" />\n                  </svg>\n                  <p className=\"pt-1 text-sm tracking-wider text-gray-400 dark:text-neutral-light group-hover:text-gray-500 dark:group-hover:text-gray-300\">\n                    {currentTotalImages >= maxFiles ? \"Max images reached\" : (files?.length > 0 ? \"Add more photos\" : \"Select a photo (or more)\")}\n                  </p>\n                </div>\n                <input\n                  type=\"file\"\n                  onChange={handleFile}\n                  className=\"opacity-0\"\n                  multiple // Keep multiple to allow selection, logic handles 1 vs many\n                  name=\"files[]\" // Ensure this name is unique or handled if multiple inputs exist\n                  accept=\"image/png, image/jpeg, image/gif\"\n                  disabled={currentTotalImages >= maxFiles || showCropper}\n                />\n              </label>\n            </div>\n\n            {/* Display Existing Images - No changes here, ensure it's outside the cropper conditional rendering */}\n            {existingImages && existingImages.length > 0 && (\n              <div className=\"mt-4\">\n                <p className=\"text-xs font-semibold text-gray-600 dark:text-gray-400 mb-1\">Current Images:</p>\n                <div className=\"flex flex-wrap gap-2\">\n                  {existingImages.map((url, idx) => (\n                    <div key={`existing-${idx}`} className=\"overflow-hidden relative group\">\n                      <button\n                        type=\"button\"\n                        onClick={() => removeExistingImage(url)}\n                        className=\"absolute top-0.5 right-0.5 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity z-10 hover:bg-red-600\"\n                        aria-label=\"Remove existing image\"\n                      >\n                        ✕\n                      </button>\n                      <div className=\"relative h-20 w-20 rounded-md border border-gray-200 dark:border-gray-600\">\n                        <Image src={url} layout=\"fill\" alt=\"Existing Service Image\" className=\"object-cover rounded-md\" />\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Display New File Previews */}\n            {files && files.length > 0 && (\n              <div className=\"mt-4\">\n                <p className=\"text-xs font-semibold text-gray-600 dark:text-gray-400 mb-1\">New Images to Upload:</p>\n                <div className=\"flex flex-wrap gap-2\">\n                  {files.map((file, idx) => (\n                    <div key={`new-${idx}`} className=\"overflow-hidden relative group\">\n                      <button\n                        type=\"button\"\n                        onClick={() => removeNewImage(file.name)}\n                        className=\"absolute top-0.5 right-0.5 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs opacity-0 group-hover:opacity-100 transition-opacity z-10 hover:bg-red-600\"\n                        aria-label=\"Remove new image\"\n                      >\n                        ✕\n                      </button>\n                      <div className=\"relative h-20 w-20 rounded-md border border-gray-200 dark:border-gray-600\">\n                        <Image src={URL.createObjectURL(file)} layout=\"fill\" alt=\"New Service Image\" className=\"object-cover rounded-md\" />\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            <p className=\"text-sm text-gray-500 dark:text-neutral-light mt-2 text-center\">\n              {currentTotalImages}/{maxFiles} images\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ImageUpload;\n","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Landing/PopularServices.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Landing/Services.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Logo.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Messages/ChatWindow.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Messages/ConversationList.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Messages/ConversationList.test.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Messages/MessageInput.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Messages/MessageList.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Navbar.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Navbar.test.js",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/OrdersDisplay.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Profile.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Search/SearchGridItem.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Services/AddReview.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Services/Details.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Services/Details.test.js",[],["427"],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Services/MultiStepServiceForm.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Services/MultiStepServiceForm.test.js",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Services/Pricing.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Services/Pricing.test.js",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Services/Reviews.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Services/ServiceForm.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/Services/ServiceForm.test.js",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/StarRating.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/UserAvatar.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/common/Button.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/common/Button.test.js",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/common/Input.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/components/common/Modal.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/context/StateContext.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/context/StateReducers.js",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/context/constants.js",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/hooks/useNavigation.js",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/_app.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/_document.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/buyer/index.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/buyer/orders/index.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/buyer/orders/messages/[orderId].jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/checkout.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/index.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/logout.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/messages/[chatId].jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/messages/index.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/privacy-policy.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/profile.jsx",["428"],[],"import { useStateProvider } from \"../context/StateContext\";\nimport { reducerCases } from \"../context/constants\";\nimport { setUser } from \"../utils/api\"; // Removed updateUserAvatarApi\nimport { useRouter } from \"next/router\";\nimport React, { useEffect, useRef, useState } from \"react\"; // Ensure useState is imported\nimport { ref, uploadBytes } from \"firebase/storage\"; // Removed getDownloadURL\nimport { storage } from \"../utils/firebaseConfig\";\nimport AvatarImage from \"../components/AvatarImage\";\nimport { toast } from \"react-toastify\";\n\nfunction Profile() {\n  const router = useRouter();\n  const { new: newUser } = router.query;\n  const [{ user }, dispatch] = useStateProvider();\n\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [avatarSrc, setAvatarSrc] = useState(null); // Consolidated image state\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [hasChanged, setHasChanged] = useState(false);\n\n  const userNameRef = useRef(null); // for scroll/focus on error\n  const [data, setData] = useState({\n    userName: \"\",\n    description: \"\",\n  });\n\n  useEffect(() => {\n    if (user) {\n      setData({\n        userName: user?.userName || \"\",\n        description: user?.description || \"\",\n      });\n      // Only set avatar if not already set to avoid flickering\n      if (!avatarSrc && user.avatar) {\n        setAvatarSrc(user.avatar);\n      }\n      setIsLoaded(true);\n    }\n  }, [user]);\n\n  // Handle cleanup for object URLs\n  useEffect(() => {\n    return () => {\n      if (avatarSrc && avatarSrc.startsWith('blob:')) {\n        URL.revokeObjectURL(avatarSrc);\n      }\n    };\n  }, [avatarSrc]);\n\n  useEffect(() => {\n    // Debounced check for changes to reduce flickering\n    const timeoutId = setTimeout(() => {\n      const hasFormChanged =\n        data.userName !== (user?.userName || \"\") ||\n        data.description !== (user?.description || \"\") ||\n        (avatarSrc && avatarSrc.startsWith('blob:')); // Check if new image is selected\n\n      setHasChanged(hasFormChanged);\n    }, 100); // Small delay to debounce rapid state changes\n\n    return () => clearTimeout(timeoutId);\n  }, [data, user, avatarSrc]);\n\n  const handleImageUploadAndSave = async (e) => {\n    const file = e.target.files?.[0];\n    if (!file) return;\n\n    const validImageTypes = [\"image/gif\", \"image/jpeg\", \"image/png\", \"image/webp\"];\n    if (!validImageTypes.includes(file.type)) {\n      setErrorMessage(\"Please upload a valid image (JPEG, PNG, GIF, or WebP)\");\n      e.target.value = null;\n      return;\n    }\n    setErrorMessage(\"\");\n\n    // Immediately show preview to user for better UX\n    const previewUrl = URL.createObjectURL(file);\n    setAvatarSrc(previewUrl);\n\n    const toastId = toast.loading(\"Uploading avatar...\");\n    try {\n      const imagePath = `users/${user?.uid}/avatar/0`;\n      const imageRef = ref(storage, imagePath);\n      \n      await uploadBytes(imageRef, file);\n\n      // Create cache-busted URL\n      let newDisplayAvatarUrl;\n      if (user?.avatar) {\n        const url = new URL(user.avatar);\n        url.searchParams.set('updated', Date.now());\n        if (!url.searchParams.has('alt')) {\n          url.searchParams.set('alt', 'media');\n        }\n        newDisplayAvatarUrl = url.toString();\n      } else {\n        newDisplayAvatarUrl = `https://firebasestorage.googleapis.com/v0/b/${storage.app.options.storageBucket}/o/${encodeURIComponent(`users/${user?.uid}/avatar/0`)}?alt=media&updated=${Date.now()}`;\n      }\n\n      // Update context with new URL\n      dispatch({\n        type: reducerCases.SET_USER,\n        user: {\n          ...user,\n          avatar: newDisplayAvatarUrl,\n        },\n      });\n\n      // Clean up preview URL and set final URL\n      URL.revokeObjectURL(previewUrl);\n      setAvatarSrc(newDisplayAvatarUrl);\n\n      toast.update(toastId, { render: \"Avatar updated successfully!\", type: \"success\", isLoading: false, autoClose: 3000 });\n    } catch (error) {\n      console.error(\"Error uploading image:\", error);\n      // Revert to original avatar on error\n      setAvatarSrc(user?.avatar || null);\n      URL.revokeObjectURL(previewUrl);\n      toast.update(toastId, { render: \"Failed to update avatar. Please try again.\", type: \"error\", isLoading: false, autoClose: 5000 });\n    } finally {\n      e.target.value = '';\n    }\n  };\n\n  const handleFile = (e) => {\n    handleImageUploadAndSave(e);\n  };\n\n  const handleChange = (e) => {\n    setData({ ...data, [e.target.name]: e.target.value });\n    if (e.target.name === \"userName\" && errorMessage) {\n      setErrorMessage(\"\");\n    }\n  };\n\n  // Removed uploadImageToFirebase function as its logic is now in handleImageUploadAndSave\n\n  const setProfile = async () => {\n    if (!hasChanged) {\n      toast.info(\"No changes to save.\");\n      return;\n    }\n\n    if (!data.userName.trim()) {\n      setErrorMessage(\"Username is required\");\n      userNameRef.current?.focus();\n      userNameRef.current?.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n      return;\n    }\n\n    setIsSubmitting(true);\n    setErrorMessage(\"\");\n\n    try {\n      const response = await setUser({ ...data });\n\n      if (response.userNameError) {\n        setErrorMessage(\"Username is already taken\");\n        userNameRef.current?.focus();\n        setIsSubmitting(false);\n        return;\n      }\n\n      dispatch({\n        type: reducerCases.SET_USER,\n        user: {\n          ...user,\n          ...data,\n        },\n      });\n\n      toast.success(\"Profile updated successfully!\");\n      if (newUser) {\n        router.push(\"/\");\n      }\n    } catch (err) {\n      console.error(\"Profile update error:\", err);\n      setErrorMessage(\"An error occurred while updating profile. Please try again.\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-neutral-light dark:bg-neutral-dark flex items-center justify-center p-4 md:p-8\">\n      {isLoaded && (\n        <div className=\"w-full max-w-lg bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden\">\n          <div className=\"bg-primary-darker p-6 text-center\"> {/* This gradient should be fine for dark mode too */}\n            <h2 className=\"text-2xl md:text-3xl font-bold text-white\">\n              {user?.userName ? \"Update Your Profile\" : \"Complete Your Profile\"}\n            </h2>\n            <p className=\"mt-2 text-blue-100\">\n              {user?.userName\n                ? \"Make changes to your profile information\"\n                : \"Let's get to know you better\"}\n            </p>\n          </div>\n\n          <div className=\"p-6 md:p-8\">\n            {errorMessage && (\n              <div className=\"mb-6 p-4 bg-red-50 dark:bg-red-900/30 border-l-4 border-red-500 dark:border-red-700 rounded-lg\">\n                <p className=\"text-sm font-medium text-red-800 dark:text-red-300\">{errorMessage}</p>\n              </div>\n            )}\n\n            <div className=\"space-y-6\">\n              <div className=\"flex justify-center\">\n                <AvatarImage\n                  src={avatarSrc}\n                  email={user?.email}\n                  editable={true}\n                  onFileChange={handleFile}\n                  size={160}\n                />\n              </div>\n\n              <div className=\"space-y-5\">\n                <div>\n                  <label htmlFor=\"userName\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                    Username <span className=\"text-red-500\">*</span>\n                  </label>\n                  <div className=\"relative\">\n                    <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                      <span className=\"text-gray-500 dark:text-gray-400\">@</span>\n                    </div>\n                    <input\n                      ref={userNameRef}\n                      type=\"text\"\n                      name=\"userName\"\n                      id=\"userName\"\n                      value={data.userName}\n                      onChange={handleChange}\n                      autoComplete=\"username\"\n                      className=\"block w-full pl-8 pr-3 py-3 border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white rounded-lg focus:ring-2 focus:ring-primary-darker focus:border-primary-darker transition\"\n                      placeholder=\"yourusername\"\n                    />\n                  </div>\n                </div>\n\n                <div>\n                  <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                    Email\n                  </label>\n                  <input\n                    type=\"email\"\n                    name=\"email\"\n                    id=\"email\"\n                    value={user?.email || \"\"}\n                    readOnly\n                    autoComplete=\"email\"\n                    className=\"block w-full px-4 py-3 border border-gray-300 bg-gray-100 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-400 rounded-lg focus:ring-0 focus:border-gray-300 cursor-not-allowed transition\"\n                    placeholder=\"your.email@example.com\"\n                  />\n                </div>\n\n\n                <div>\n                  <label htmlFor=\"description\" className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\n                    About You\n                  </label>\n                  <textarea\n                    name=\"description\"\n                    id=\"description\"\n                    rows={3}\n                    value={data.description}\n                    onChange={handleChange}\n                    autoComplete=\"off\"\n                    className=\"block w-full px-4 py-3 border border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white rounded-lg focus:ring-2 focus:ring-primary-darker focus:border-primary-darker transition\"\n                    placeholder=\"Tell us about yourself...\"\n                  />\n                </div>\n              </div>\n\n              <div className=\"flex flex-col sm:flex-row gap-3 pt-4\">\n                <button\n                  onClick={setProfile}\n                  disabled={isSubmitting || !hasChanged}\n                  className={`flex-1 px-6 py-3 rounded-lg font-medium text-white transition flex items-center justify-center ${\n                    isSubmitting || !hasChanged\n                      ? \"bg-primary/70 dark:bg-primary-darker/50 text-white/70 dark:text-white/50 cursor-not-allowed\"\n                      : \"bg-primary hover:bg-primary-darker text-white dark:text-white shadow-md hover:shadow-lg dark:bg-primary-darker dark:hover:bg-primary\"\n                  }`}\n                >\n                  {isSubmitting ? (\n                    <>\n                      <svg\n                        className=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\"\n                        xmlns=\"http://www.w3.org/2000/svg\"\n                        fill=\"none\"\n                        viewBox=\"0 0 24 24\"\n                      >\n                        <circle\n                          className=\"opacity-25\"\n                          cx=\"12\"\n                          cy=\"12\"\n                          r=\"10\"\n                          stroke=\"currentColor\"\n                          strokeWidth=\"4\"\n                        ></circle>\n                        <path\n                          className=\"opacity-75\"\n                          fill=\"currentColor\"\n                          d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                        ></path>\n                      </svg>\n                      Saving...\n                    </>\n                  ) : (\n                    \"Save Profile\"\n                  )}\n                </button>\n\n                <button\n                  onClick={() => router.push(\"/\")}\n                  disabled={!!newUser}\n                  className={`flex-1 px-6 py-3 border border-gray-300 dark:border-gray-600 rounded-lg font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition ${\n                    newUser && \"cursor-not-allowed opacity-50\"\n                  }`}\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Profile;","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/search.jsx",["429"],[],"import SearchGridItem from \"../components/Search/SearchGridItem\";\nimport { useRouter } from \"next/router\";\nimport React, { useEffect, useState } from \"react\";\nimport { searchServices } from \"../utils/api\";\n\nfunction Search() {\n  const router = useRouter();\n  const { category, q } = router.query; // q is the search term\n  const [services, setServices] = useState(undefined);\n\n  // Helper function to get today's date in SGT as YYYY-MM-DD string\n  const getTodaySGTString = () => {\n    const today = new Date();\n    const sgtDate = new Date(today.toLocaleString('en-US', { timeZone: 'Asia/Singapore' }));\n    const year = sgtDate.getFullYear();\n    const month = (sgtDate.getMonth() + 1).toString().padStart(2, '0'); // Months are 0-indexed\n    const day = sgtDate.getDate().toString().padStart(2, '0');\n    return `${year}-${month}-${day}`;\n  };\n\n  const todaySGT = getTodaySGTString();\n\n  // Initialize searchDate with today's date in SGT\n  const [searchDate, setSearchDate] = useState(todaySGT);\n\n  useEffect(() => {\n    const getData = async () => {\n      try {\n        // Pass category, searchTerm (q), and serviceDate to searchServices\n        const data = await searchServices({ category, searchTerm: q, serviceDate: searchDate });\n        setServices(data);\n      } catch (err) {\n        console.error(\"Failed to fetch services:\", err);\n        setServices([]); // Set to empty array on error to avoid crash\n      }\n    };\n    // Trigger search if category or searchTerm is present, or if searchDate changes\n    if (category || q || searchDate) {\n      getData();\n    } else if (!category && !q && !searchDate && services === undefined) {\n      // Initial load with no params, maybe set services to empty or handle as needed\n      setServices([]);\n    }\n  }, [category, q, searchDate]); // Add searchDate to dependency array\n\n  const handleDateChange = (e) => {\n    setSearchDate(e.target.value);\n  };\n\n  return (\n    <div className=\"mx-4 sm:mx-8 md:mx-12 lg:mx-24 mb-24 mt-8\">\n      {/* Search Term Display */}\n      {q && (\n        <h3 className=\"text-2xl sm:text-3xl md:text-4xl mb-2 dark:text-gray-100\">\n          Results for <strong>{q}</strong>\n        </h3>\n      )}\n      {/* Category Display */}\n      {category && (\n        <p className=\"text-lg sm:text-xl mb-4 dark:text-gray-300\">\n          In category: <strong>{category}</strong>\n        </p>\n      )}\n\n      {/* Date Filter Input */}\n      <div className=\"my-4\">\n        <label htmlFor=\"searchDate\" className=\"block text-sm font-medium text-neutral-dark dark:text-neutral-light mb-1\">\n          Filter by date:\n        </label>\n        <input\n          type=\"date\"\n          id=\"searchDate\"\n          value={searchDate}\n          onChange={handleDateChange}\n          min={todaySGT} // Set the minimum selectable date to today\n          className=\"px-4 py-2 border border-neutral-medium/50 dark:border-neutral-medium rounded-lg bg-neutral-light dark:bg-neutral-dark text-neutral-dark dark:text-neutral-light focus:ring-primary focus:border-primary\"\n        />\n      </div>\n\n      {/* Services Display */}\n      {services === undefined && <p className=\"dark:text-gray-300\">Loading services...</p>}\n      {services && (\n        <div>\n          <div className=\"my-4\">\n            <span className=\"text-[#74767e] dark:text-gray-400 font-medium text-sm sm:text-base\">\n              {services.length} service{services.length !== 1 ? 's' : ''} available\n            </span>\n          </div>\n          {services.length > 0 ? (\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6 md:gap-8\">\n              {services.map((service) => (\n                <SearchGridItem\n                  service={service}\n                  key={service.id}\n                  searchDate={searchDate}\n                />\n              ))}\n            </div>\n          ) : (\n            <p className=\"dark:text-gray-300\">No services found matching your criteria.</p>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Search;\n","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/seller/index.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/seller/orders/index.jsx",[],["430"],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/seller/orders/messages/[orderId].jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/seller/services/[serviceId].jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/seller/services/create.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/seller/services/index.jsx",[],["431"],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/seller/stripe-onboarding.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/seller/stripe-return.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/service/[serviceId].jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/success.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/pages/terms-of-service.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/tests/api.test.js",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/tests/create.test.jsx",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/tests/profile.test.js",["432"],[],"import React from 'react';\nimport { render, screen, fireEvent, waitFor, act } from '@testing-library/react';\nimport userEvent from '@testing-library/user-event';\nimport '@testing-library/jest-dom';\nimport Profile from '../pages/profile';\nimport { setUser } from '../utils/api';\nimport { storage } from '../utils/firebaseConfig'; // Only for type, actual functions are mocked\nimport { ref, uploadBytes } from 'firebase/storage';\nimport { toast } from 'react-toastify';\nimport { useStateProvider } from '../context/StateContext';\nimport { useRouter } from 'next/router';\nimport { reducerCases } from '../context/constants';\n\n// --- Mocks ---\nconst mockDispatch = jest.fn();\nconst mockRouterPush = jest.fn();\nconst mockSetUser = setUser; // Will be jest.fn() from the module mock\nconst mockUploadBytes = uploadBytes; // Will be jest.fn() from the module mock\n\njest.mock('../context/StateContext', () => ({\n  useStateProvider: jest.fn(),\n}));\n\njest.mock('../utils/api', () => ({\n  setUser: jest.fn(),\n}));\n\njest.mock('next/router', () => ({\n  useRouter: jest.fn(),\n}));\n\njest.mock('firebase/storage', () => ({\n  ref: jest.fn((storageInstance, path) => ({\n    toString: () => path,\n  })),\n  uploadBytes: jest.fn(),\n  getStorage: jest.fn(() => ({})),\n}));\n\njest.mock('../components/AvatarImage', () => {\n  const MockAvatarImage = ({ src, editable, onFileChange, size }) => (\n    <div data-testid=\"mock-avatar-image\" style={{ width: size, height: size }}>\n      <img src={src} alt=\"avatar\" />\n      {editable && <input type=\"file\" data-testid=\"avatar-file-input\" onChange={onFileChange} />}\n    </div>\n  );\n  MockAvatarImage.displayName = 'MockAvatarImage';\n  return MockAvatarImage;\n});\n\njest.mock('react-toastify', () => ({\n  ...jest.requireActual('react-toastify'),\n  toast: {\n    success: jest.fn(),\n    info: jest.fn(),\n    error: jest.fn(),\n    loading: jest.fn(),\n    update: jest.fn(),\n  },\n}));\n\n\n// --- Test Suite ---\ndescribe('Profile Page', () => {\n  let initialUser;\n  let currentUserInContext; // To hold the mutable context state for user\n\n  beforeEach(() => {\n    initialUser = {\n      id: 'test-user-id',\n      uid: 'test-user-uid',\n      userName: 'testuser',\n      description: 'A test user description.',\n      avatar: 'https://example.com/initial-avatar.png',\n    };\n    currentUserInContext = { ...initialUser }; // Initialize mutable context state\n\n    useStateProvider.mockImplementation(() => [\n      { user: currentUserInContext }, // Use the mutable version for the component\n      (action) => { // Custom mock dispatch\n        mockDispatch(action); // Call the original jest.fn() so we can assert calls to it\n        if (action.type === reducerCases.SET_USER) {\n          currentUserInContext = { ...currentUserInContext, ...action.user }; // Update our mutable version\n        }\n      }\n    ]);\n    useRouter.mockReturnValue({ push: mockRouterPush, query: {} });\n    mockUploadBytes.mockResolvedValue({\n      ref: {\n        toString: () => `users/${initialUser.uid}/avatar/0`,\n      },\n    });\n\n    // Reset mocks that are part of modules\n    mockSetUser.mockReset();\n    mockUploadBytes.mockReset();\n    mockDispatch.mockReset();\n    mockRouterPush.mockReset();\n    toast.success.mockClear();\n    toast.info.mockClear();\n    toast.error.mockClear();\n    toast.loading.mockClear();\n    toast.update.mockClear();\n\n    // Mock for URL.createObjectURL\n    global.URL.createObjectURL = jest.fn(() => 'mock-object-url');\n    global.URL.revokeObjectURL = jest.fn();\n    // JSDOM does not implement scrollIntoView; stub it to prevent errors\n    HTMLElement.prototype.scrollIntoView = jest.fn();\n  });\n\n  afterEach(() => {\n    delete global.URL.createObjectURL;\n    // Leave revokeObjectURL stubbed to avoid cleanup errors\n  });\n\n  describe('Initial Render with user', () => {\n    it('populates form fields and AvatarImage correctly', () => {\n      render(<Profile />);\n      expect(screen.getByLabelText(/username/i)).toHaveValue(initialUser.userName);\n      expect(screen.getByLabelText(/about you/i)).toHaveValue(initialUser.description);\n\n      const avatarImg = screen.getByTestId('mock-avatar-image').querySelector('img');\n      expect(avatarImg).toHaveAttribute('src', initialUser.avatar);\n    });\n  });\n\n  describe('Input Handling', () => {\n    it('updates username field value on change', async () => {\n      render(<Profile />);\n      const usernameInput = screen.getByLabelText(/username/i);\n      await userEvent.clear(usernameInput);\n      await userEvent.type(usernameInput, 'newuser');\n      expect(usernameInput).toHaveValue('newuser');\n    });\n\n    it('updates description field value on change', async () => {\n      render(<Profile />);\n      const descriptionInput = screen.getByLabelText(/about you/i);\n      await userEvent.clear(descriptionInput);\n      await userEvent.type(descriptionInput, 'New description.');\n      expect(descriptionInput).toHaveValue('New description.');\n    });\n  });\n\n  describe('Avatar Image Change', () => {\n    it('updates AvatarImage src on file selection', async () => {\n      render(<Profile />);\n      const fileInput = screen.getByTestId('avatar-file-input');\n      const file = new File(['(⌐□_□)'], 'new-avatar.png', { type: 'image/png' });\n\n      await userEvent.upload(fileInput, file);\n\n      // Wait a bit for the state update\n      await waitFor(() => {\n        const avatarImg = screen.getByAltText('avatar');\n        expect(avatarImg).toHaveAttribute('src', 'mock-object-url');\n      });\n    });\n  });\n\n  describe('Form Submission - Success (username only)', () => {\n    it('saves a specific username and verifies successful save', async () => {\n      mockSetUser.mockResolvedValue({ /* success response */ });\n\n      render(<Profile />);\n\n      // Input a specific username\n      const usernameInput = screen.getByLabelText(/username/i);\n      await userEvent.clear(usernameInput);\n      await userEvent.type(usernameInput, 'myspecificusername');\n\n      // Verify the input field has the new value\n      expect(usernameInput).toHaveValue('myspecificusername');\n\n      // Wait for debounced hasChanged to update and button to be enabled\n      await waitFor(() => {\n        const saveButton = screen.getByRole('button', { name: /save profile/i });\n        expect(saveButton).not.toBeDisabled();\n      });\n\n      // Click save button\n      await userEvent.click(screen.getByRole('button', { name: /save profile/i }));\n\n      // Verify setUser API was called with the correct username\n      await waitFor(() => \n        expect(mockSetUser).toHaveBeenCalledWith(\n          expect.objectContaining({ \n            userName: 'myspecificusername',\n            description: initialUser.description\n          })\n        )\n      );\n\n      // Verify context was updated with the new username\n      await waitFor(() => \n        expect(mockDispatch).toHaveBeenCalledWith(\n          expect.objectContaining({\n            type: reducerCases.SET_USER,\n            user: expect.objectContaining({\n              userName: 'myspecificusername'\n            })\n          })\n        )\n      );\n\n      // Verify success toast was shown\n      await waitFor(() => expect(toast.success).toHaveBeenCalledWith('Profile updated successfully!'));\n    });\n  });\n\n  describe('Form Submission - Success (with new image)', () => {\n    it('uploads image, calls setUser, dispatches, toasts, and navigates', async () => {\n      mockUploadBytes.mockResolvedValue({ metadata: { fullPath: `users/${initialUser.uid}/avatar/0` } });\n      mockSetUser.mockResolvedValue({ /* success response */ });\n\n      render(<Profile />);\n\n      // Change data to enable form submission\n      const descriptionInput = screen.getByLabelText(/about you/i);\n      await userEvent.clear(descriptionInput);\n      await userEvent.type(descriptionInput, 'Updated Description');\n\n      // Select new image\n      const fileInput = screen.getByTestId('avatar-file-input');\n      const file = new File(['(⌐□_□)'], 'new-avatar.png', { type: 'image/png' });\n      await userEvent.upload(fileInput, file);\n\n      await userEvent.click(screen.getByRole('button', { name: /save profile/i }));\n\n      await waitFor(() => expect(toast.success).toHaveBeenCalledWith('Profile updated successfully!'));\n    });\n  });\n\n  describe('Form Submission - Username Taken', () => {\n    it('shows error message and does not proceed', async () => {\n      mockSetUser.mockResolvedValue({ userNameError: true });\n      render(<Profile />);\n\n      const usernameInput = screen.getByLabelText(/username/i);\n      await userEvent.clear(usernameInput);\n      await userEvent.type(usernameInput, 'takenuser');\n\n      await userEvent.click(screen.getByRole('button', { name: /save profile/i }));\n\n      await waitFor(() => expect(mockSetUser).toHaveBeenCalledWith(expect.objectContaining({ userName: 'takenuser' })));\n      await waitFor(() => expect(screen.getByText('Username is already taken')).toBeInTheDocument());\n\n      expect(mockDispatch).not.toHaveBeenCalled();\n      expect(mockRouterPush).not.toHaveBeenCalled();\n      expect(toast.success).not.toHaveBeenCalled();\n    });\n  });\n\n  describe('Form Submission - Client-Side Validation (Username required)', () => {\n    it('shows error message and does not call API', async () => {\n      render(<Profile />);\n      const usernameInput = screen.getByLabelText(/username/i);\n      await userEvent.clear(usernameInput); // Make username empty\n\n      await userEvent.click(screen.getByRole('button', { name: /save profile/i }));\n\n      await waitFor(() => expect(screen.getByText('Username is required')).toBeInTheDocument());\n      expect(mockSetUser).not.toHaveBeenCalled();\n      expect(mockUploadBytes).not.toHaveBeenCalled();\n      expect(mockDispatch).not.toHaveBeenCalled();\n      expect(mockRouterPush).not.toHaveBeenCalled();\n    });\n  });\n\n  describe('Form Submission - No Changes Made', () => {\n    it('shows info toast and does not call API or navigate', async () => {\n      render(<Profile />); // Render with initialUser, no changes made\n\n      // Wait for hasChanged to be false (initial state after load)\n      // The button should be disabled if !hasChanged\n      const saveButton = screen.getByRole('button', { name: /save profile/i });\n      expect(saveButton).toBeDisabled(); // Initial state due to no changes\n\n      // To simulate a click on a disabled button for the toast.info part,\n      // we might need to manually enable it or call setProfile directly.\n      // However, the component logic is: if (!hasChanged) { toast.info(...); return; }\n      // So, if we can force hasChanged to false, and then click, it should trigger.\n      // Let's assume the user somehow enables the button or the check is internal\n      // For this test, we'll just verify the button is disabled.\n      // A direct call to setProfile() isn't feasible in a black-box test.\n      // The component's current logic makes the button disabled if !hasChanged.\n      // If the button is disabled, the user can't click it to trigger the toast.info.\n      // The toast.info is an early return in `setProfile`.\n      // This scenario is tricky to test perfectly without refactoring or white-box testing.\n      // Let's assume the user *could* click it if it were enabled but no actual data changed.\n      // For now, we confirm the button is disabled due to hasChanged being false.\n      // The toast.info(\"No changes to save.\") will be tested if `hasChanged` is false but button is clicked.\n      // This implies the button's disabled state logic might need to be bypassed or the test adapted.\n      // Test: If button is disabled, no API calls happen.\n      expect(saveButton).toBeDisabled();\n      if(!saveButton.disabled) { // Should not happen based on component logic\n        await userEvent.click(saveButton);\n        expect(toast.info).toHaveBeenCalledWith('No changes to save.');\n        expect(mockSetUser).not.toHaveBeenCalled();\n        expect(mockUploadBytes).not.toHaveBeenCalled();\n      }\n    });\n  });\n\n  describe('Cancel Button Navigation', () => {\n    it('navigates to \"/\" on cancel click', async () => {\n      render(<Profile />);\n      await userEvent.click(screen.getByRole('button', { name: /cancel/i }));\n      expect(mockRouterPush).toHaveBeenCalledWith('/');\n    });\n  });\n\n  describe('New User Scenario', () => {\n    beforeEach(() => {\n      useRouter.mockReturnValue({ push: mockRouterPush, query: { new: 'true' } });\n    });\n\n    it('disables the cancel button', () => {\n      render(<Profile />);\n      expect(screen.getByRole('button', { name: /cancel/i })).toBeDisabled();\n    });\n\n    it('redirects to home on successful profile creation', async () => {\n      mockSetUser.mockResolvedValue({ /* success response */ });\n      render(<Profile />);\n\n      const usernameInput = screen.getByLabelText(/username/i);\n      await userEvent.clear(usernameInput);\n      await userEvent.type(usernameInput, 'newuser');\n\n      await userEvent.click(screen.getByRole('button', { name: /save profile/i }));\n\n      await waitFor(() => expect(mockRouterPush).toHaveBeenCalledWith('/'));\n    });\n  });\n\n  describe('Loading State on Submit', () => {\n    it('disables button and shows loading text during submission', async () => {\n      let resolveSetUser;\n      mockSetUser.mockReturnValue(new Promise(resolve => { resolveSetUser = resolve; }));\n\n      render(<Profile />);\n      const usernameInput = screen.getByLabelText(/username/i); // Make a change to enable button\n      await userEvent.clear(usernameInput);\n      await userEvent.type(usernameInput, 'newname');\n\n      // Wait for debounced hasChanged to update\n      await waitFor(() => {\n        const saveButton = screen.getByRole('button', { name: /save profile/i });\n        expect(saveButton).not.toBeDisabled();\n      });\n\n      const saveButton = screen.getByRole('button', { name: /save profile/i });\n      userEvent.click(saveButton); // No await, check intermediate state\n\n      await waitFor(() => expect(saveButton).toBeDisabled());\n      expect(screen.getByText(/saving/i)).toBeInTheDocument(); // Check for \"Saving...\" text or spinner\n\n      // @ts-ignore\n      await act(async () => { resolveSetUser({ /* success response */ }); });\n\n      await waitFor(() => expect(saveButton).toBeEnabled());\n      // Further assertions for success (toast, navigation) would follow as in success tests\n      await waitFor(() => expect(toast.success).toHaveBeenCalledWith('Profile updated successfully!'));\n    });\n\n    it('disables button and shows loading text during image upload', async () => {\n        let resolveUploadBytes;\n        let resolveSetUserInLoadingTest;\n        mockUploadBytes.mockReturnValue(new Promise(resolve => { resolveUploadBytes = resolve; }));\n        mockSetUser.mockReturnValueOnce(new Promise(resolve => { resolveSetUserInLoadingTest = resolve; }));\n\n        render(<Profile />);\n        const fileInput = screen.getByTestId('avatar-file-input');\n        const file = new File(['(⌐□_□)'], 'new-avatar.png', { type: 'image/png' });\n        await userEvent.upload(fileInput, file); // This makes `hasChanged` true\n\n        const saveButton = screen.getByRole('button', { name: /save profile/i });\n        userEvent.click(saveButton);\n\n        await screen.findByText(/saving/i);\n\n        // @ts-ignore\n        await act(async () => { resolveUploadBytes({ metadata: { fullPath: 'newpath.jpg' } }); });\n\n        await waitFor(() => expect(saveButton).toBeEnabled());\n        // Further assertions...\n        // This toast is from handleImageUploadAndSave\n        await waitFor(() => expect(toast.update).toHaveBeenCalledWith(undefined, { render: \"Avatar updated successfully!\", type: \"success\", isLoading: false, autoClose: 3000 }));\n\n      });\n  });\n});","/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/tests/search.test.js",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/tests/stripe-onboarding.test.js",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/utils/api.js",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/utils/categories.js",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/utils/chatApi.js",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/utils/chatApi.test.js",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/utils/constants.js",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/utils/envConfig.js",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/utils/firebaseConfig.js",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/utils/publicHolidays.js",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/utils/serviceFieldDefinitions.js",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/utils/validators.js",[],[],"/home/runner/work/bridalflock-fe/bridalflock-fe/app/src/utils/validators.test.js",[],[],{"ruleId":"433","severity":1,"message":"434","line":263,"column":17,"nodeType":"435","endLine":268,"endColumn":19},{"ruleId":"433","severity":1,"message":"434","line":17,"column":12,"nodeType":"435","endLine":17,"endColumn":50,"suppressions":"436"},{"ruleId":"437","severity":1,"message":"438","line":40,"column":6,"nodeType":"439","endLine":40,"endColumn":12,"suggestions":"440"},{"ruleId":"437","severity":1,"message":"441","line":44,"column":6,"nodeType":"439","endLine":44,"endColumn":31,"suggestions":"442"},{"ruleId":"437","severity":1,"message":"443","line":126,"column":6,"nodeType":"439","endLine":126,"endColumn":17,"suggestions":"444","suppressions":"445"},{"ruleId":"437","severity":1,"message":"446","line":139,"column":6,"nodeType":"439","endLine":139,"endColumn":17,"suggestions":"447","suppressions":"448"},{"ruleId":"433","severity":1,"message":"434","line":43,"column":7,"nodeType":"435","endLine":43,"endColumn":37},"@next/next/no-img-element","Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","JSXOpeningElement",["449"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'avatarSrc'. Either include it or remove the dependency array.","ArrayExpression",["450"],"React Hook useEffect has a missing dependency: 'services'. Either include it or remove the dependency array.",["451"],"React Hook useEffect has a missing dependency: 'loadInitialSellerOrders'. Either include it or remove the dependency array.",["452"],["453"],"React Hook useEffect has a missing dependency: 'fetchServiceGroup'. Either include it or remove the dependency array.",["454"],["455"],{"kind":"456","justification":"457"},{"desc":"458","fix":"459"},{"desc":"460","fix":"461"},{"desc":"462","fix":"463"},{"kind":"456","justification":"457"},{"desc":"464","fix":"465"},{"kind":"456","justification":"457"},"directive","","Update the dependencies array to be: [avatarSrc, user]",{"range":"466","text":"467"},"Update the dependencies array to be: [category, q, searchDate, services]",{"range":"468","text":"469"},"Update the dependencies array to be: [loadInitialSellerOrders, user?.uid]",{"range":"470","text":"471"},"Update the dependencies array to be: [fetchServiceGroup, user.uid]",{"range":"472","text":"473"},[1464,1470],"[avatarSrc, user]",[1767,1792],"[category, q, searchDate, services]",[5177,5188],"[loadInitialSellerOrders, user?.uid]",[5606,5617],"[fetchServiceGroup, user.uid]"]
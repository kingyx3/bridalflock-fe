(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[17],{9590:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/seller/stripe-onboarding",function(){return t(3012)}])},3012:function(e,r,t){"use strict";t.r(r);var o=t(5893),n=t(7294),i=t(1163),c=t(9611),s=t(1701);let a=()=>{let e=(0,i.useRouter)(),[{user:r},t]=(0,s.C4)(),[a,l]=(0,n.useState)(!1),[d,u]=(0,n.useState)(""),[p,y]=(0,n.useState)("");(0,n.useEffect)(()=>{if("true"===e.query.refresh&&(y("Your previous Stripe connection session may have expired or encountered an issue. Please click the button below to try again."),u("")),"true"===e.query.stripe_connect_error){let r=e.query.error_description?decodeURIComponent(e.query.error_description):"",t="There was a problem connecting your Stripe account. Please try again.";u(r?"".concat(t," Details: ").concat(r):t),y("")}},[e.query]),(0,n.useEffect)(()=>{if(null===r&&void 0!==r)return},[r,r,e]);let h=async()=>{l(!0),u(""),y("");try{let e=await (0,c.pS)();e&&e.stripeOAuthUrl?window.location.href=e.stripeOAuthUrl:e&&e.message&&"already-exists"===e.code?u("A Stripe account is already connected for this user. If you need to manage your Stripe account, please visit your seller dashboard or Stripe directly."):u("Could not retrieve the Stripe connection link. Please try again.")}catch(e){console.error("Error initiating Stripe connection:",e),e.details&&e.details.message?u(e.details.message):u(e.message||"An unexpected error occurred. Please try again.")}l(!1)};return void 0===r?(0,o.jsx)("div",{children:"Loading user information..."}):(0,o.jsxs)("div",{style:{padding:"20px",maxWidth:"600px",margin:"auto",textAlign:"center"},children:[(0,o.jsx)("h1",{children:"Connect your Stripe Account"}),(0,o.jsx)("p",{children:"To start selling services and receive payments, you need to connect your Stripe account."}),(0,o.jsx)("p",{children:"Stripe helps process payments securely and handle payouts directly to you. Youâ€™ll be redirected to Stripe to authorize the connection or set up your account."}),p&&(0,o.jsx)("p",{style:{color:"blue",border:"1px solid blue",padding:"10px",margin:"10px 0"},children:p}),d&&(0,o.jsxs)("p",{style:{color:"red",border:"1px solid red",padding:"10px",margin:"10px 0"},children:[(0,o.jsx)("strong",{children:"Error:"})," ",d]}),(0,o.jsx)("button",{onClick:h,disabled:a||!r,style:{padding:"10px 20px",fontSize:"16px",color:"white",backgroundColor:a||!r?"#ccc":"#0070f3",border:"none",borderRadius:"5px",cursor:a||!r?"default":"pointer"},children:a?"Redirecting to Stripe...":"Connect with Stripe"}),(0,o.jsx)("p",{style:{marginTop:"20px",fontSize:"0.9em",color:"#555"},children:"You will be securely redirected to Stripe to complete the connection process."})]})};r.default=a}},function(e){e.O(0,[774,888,179],function(){return e(e.s=9590)}),_N_E=e.O()}]);
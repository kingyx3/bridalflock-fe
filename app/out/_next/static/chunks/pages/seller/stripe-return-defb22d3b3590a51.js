(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[685],{5541:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/seller/stripe-return",function(){return r(6560)}])},6560:function(e,t,r){"use strict";r.r(t);var i=r(5893),s=r(7294),n=r(1163),o=r(9611),a=r(1701),d=r(9822);let c=()=>{let e=(0,n.useRouter)(),[{user:t,isAuthLoading:r},c]=(0,a.C4)(),[u,l]=(0,s.useState)(!0),[p,h]=(0,s.useState)("We're checking your Stripe account status..."),[g,f]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{if(r){h("Loading user session..."),l(!0);return}if(!t){l(!1);return}let i=async()=>{l(!0),h("Verifying your Stripe account details...");try{let r=await (0,o.et)(t.uid);r?(c({type:d.J.SET_USER,user:r}),r.stripeOnboardingComplete?(f(!0),h("Stripe onboarding complete! Redirecting to your dashboard..."),setTimeout(()=>{e.push("/seller?stripe_connect_success=true")},2500)):r.stripeChargesEnabled&&r.stripeDetailsSubmitted?(f(!0),h("Stripe account seems configured! Redirecting to your dashboard..."),setTimeout(()=>{e.push("/seller?stripe_connect_success=true")},2500)):(f(!1),h("Stripe onboarding is not yet complete. Please ensure all required information is submitted on Stripe, or wait a few moments for updates to process."))):(f(!1),h("Could not retrieve your updated account details at this time. Please try refreshing the page."))}catch(e){console.error("Error checking Stripe status:",e),f(!1),h("An error occurred while checking your Stripe status: ".concat(e.message,". Please try refreshing or contact support if the issue persists."))}l(!1)};t&&t.uid&&i()},[t,r,e,c]),!r&&(t||u))?(0,i.jsxs)("div",{style:{padding:"20px",maxWidth:"600px",margin:"auto",textAlign:"center"},children:[(0,i.jsx)("h1",{children:"Stripe Onboarding Status"}),(0,i.jsx)("p",{children:p}),u&&(0,i.jsx)("p",{children:"Verifying details with Stripe..."}),!u&&!g&&(0,i.jsxs)("div",{style:{marginTop:"20px",padding:"15px",border:"1px solid #eee",borderRadius:"8px"},children:[(0,i.jsx)("p",{children:"If youâ€™ve completed all steps on Stripe, your information might still be processing. This can take a few moments."}),(0,i.jsx)("button",{onClick:()=>e.reload(),style:{marginRight:"10px",padding:"10px 15px",cursor:"pointer",backgroundColor:"#f0f0f0",border:"1px solid #ccc",borderRadius:"5px"},children:"Refresh Status"}),(0,i.jsx)("button",{onClick:()=>e.push("/seller/stripe-onboarding"),style:{padding:"10px 15px",cursor:"pointer",backgroundColor:"#0070f3",color:"white",border:"none",borderRadius:"5px"},children:"Try Connecting Again"})]}),!u&&g&&(0,i.jsxs)("p",{children:["You should be redirected shortly. If not, ",(0,i.jsx)("a",{href:"/seller/dashboard",style:{color:"#0070f3",fontWeight:"bold"},children:"click here to go to your dashboard"}),"."]})]}):(0,i.jsxs)("div",{style:{padding:"20px",maxWidth:"600px",margin:"auto",textAlign:"center",height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,i.jsx)("h1",{children:"Stripe Onboarding Status"}),(0,i.jsx)("p",{children:p}),(0,i.jsx)("p",{children:"Loading user data..."})]})};t.default=c}},function(e){e.O(0,[774,888,179],function(){return e(e.s=5541)}),_N_E=e.O()}]);